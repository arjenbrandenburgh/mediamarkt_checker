(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5bc7"],{"1a71":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"analyse"},[a("h1",{staticClass:"title"},[e._v("Grootste veranderingen")]),a("div",{staticClass:"control"},[a("div",{staticClass:"select",class:{"is-loading":e.loadingCategories}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedCategory,expression:"selectedCategory"}],on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.selectedCategory=t.target.multiple?a:a[0]},function(t){e.getChanges()}]}},[a("option",{attrs:{value:"all"}},[e._v("Alles")]),e._l(e.categories,function(t){return a("optgroup",{key:t.name,attrs:{label:t.name}},e._l(t.subcategories,function(t){return a("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}))})],2)])]),a("h2",{staticClass:"subtitle"},[e._v("Grootste veranderingen sinds gisteren")]),a("div",{staticClass:"columns"},[a("changes-table",{attrs:{changes:e.changes,period:"day",type:"+"}}),a("changes-table",{attrs:{changes:e.changes,period:"day",type:"-"}})],1),a("h2",{staticClass:"subtitle"},[e._v("Grootste veranderingen sinds vorige week")]),a("div",{staticClass:"columns"},[a("changes-table",{attrs:{changes:e.changes,period:"week",type:"+"}}),a("changes-table",{attrs:{changes:e.changes,period:"week",type:"-"}})],1)])},s=[],r=a("bc3a"),i=a.n(r),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"column is-half"},[e.changes&&0===e.filterChanges().length?a("div",{staticClass:"notification is-warning"},[e._v("\n    Geen wijzigingen "+e._s("+"===e.type?"omhoog":"omlaag")+" sinds "+e._s("day"===e.period?"gisteren":"vorige week")+"\n  ")]):e._e(),e.changes&&e.filterChanges().length>0?a("table",{staticClass:"table is-narrow is-striped"},[e._m(0),a("tbody",e._l(e.filterChanges(),function(t){return a("tr",[a("td",[a("router-link",{attrs:{to:{name:"product",params:{id:t.productid}}}},[e._v(e._s(t.name))])],1),a("td",{staticClass:"has-text-right"},[e._v("€"+e._s(e._f("formatPrice")(t.new_price)))]),a("td",{staticClass:"has-text-right"},[e._v("€"+e._s(e._f("formatPrice")(t.old_price)))]),a("td",{staticClass:"has-text-right",class:{"is-red":t.percentage<0,"is-green":t.percentage>0}},[e._v(e._s(e._f("formatPercentage")(t.percentage))+"%")])])}))]):e._e()])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Product")]),a("th",{staticClass:"has-text-right"},[e._v("Nieuw")]),a("th",{staticClass:"has-text-right"},[e._v("Oud")]),a("th",{staticClass:"has-text-right"},[e._v("%")])])])}],l=(a("55dd"),{name:"changes-table",props:["changes","period","type"],filters:{formatPrice:function(e){return e%1!==0?e.toFixed(2):e},formatPercentage:function(e){return e>0?"+".concat(e):e}},methods:{filterChanges:function(){var e=this;return this.changes.filter(function(t){return t.period===e.period}).filter(function(t){return"+"===e.type?t.percentage>0:t.percentage<0}).sort(function(t,a){return"+"===e.type?t.percentage<=a.percentage?1:-1:t.percentage>=a.percentage?1:-1})}}}),u=l,g=(a("1deb"),a("2877")),d=Object(g["a"])(u,c,o,!1,null,null,null);d.options.__file="ChangesTable.vue";var h=d.exports,f={name:"analyse",components:{ChangesTable:h},data:function(){return{changes:[],categories:[],loadingCategories:!0,selectedCategory:"all"}},created:function(){this.getCategories(),this.getChanges()},methods:{getCategories:function(){var e=this;i.a.get("/categories/").then(function(t){t.data&&(e.categories=t.data.data)}).catch(function(){return e.categories=[]}).finally(function(){return e.loadingCategories=!1})},getChanges:function(){var e=this;i.a.get("/changes/?lvl2=".concat(this.selectedCategory)).then(function(t){t.data&&(e.changes=t.data.data)}).catch(function(){return e.changes=[]})}}},p=f,v=(a("1b10"),Object(g["a"])(p,n,s,!1,null,"4a188e0f",null));v.options.__file="Analyse.vue";t["default"]=v.exports},"1b10":function(e,t,a){"use strict";var n=a("3ac4"),s=a.n(n);s.a},"1deb":function(e,t,a){"use strict";var n=a("c99b"),s=a.n(n);s.a},"2f21":function(e,t,a){"use strict";var n=a("79e5");e.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},"3ac4":function(e,t,a){},"55dd":function(e,t,a){"use strict";var n=a("5ca1"),s=a("d8e8"),r=a("4bf8"),i=a("79e5"),c=[].sort,o=[1,2,3];n(n.P+n.F*(i(function(){o.sort(void 0)})||!i(function(){o.sort(null)})||!a("2f21")(c)),"Array",{sort:function(e){return void 0===e?c.call(r(this)):c.call(r(this),s(e))}})},c99b:function(e,t,a){}}]);
//# sourceMappingURL=chunk-5bc7.71872dfe.js.map